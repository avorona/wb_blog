---
title: Стать ниндзя-джедаем streams в Node.js
path: '/streams-intro'
date: "2018-02-22T16:16:04.284Z"
---


### Зачем

Я захотел разобраться в стримах Node.js и теперь хотел бы вкратце описать что из этого вышло и возможно помочь в понимании потоков в Node.js тем,
кто этого хочет.

### Что такое streams в Node.js

Stream ( с англ. - "поток" ) - это поток информации, который становится доступным постепенно, кусочек за кусочком.

В мире Node.js стримы повсюду, особенно в мире real-time приложений. 
Stream - это такая же информация, переданная в виде файла, строки JSON и простого массива, но не совсем.
Эта информация передаётся не за раз, а в виде потока.
Оффициальная [дока Node.js](https://nodejs.org/api/stream.html#stream_stream) гласит:
> Поток представляет собой абстрактный интерфейс для работы с потоковыми данными в Node.js. Модуль потока предоставляет базовый API, который упрощает сбор объектов, реализующих интерфейс потока.

 Стримы чем-то похожи на промисы, они обещают нам большой объём информации, но дают лишь небольшой кусочек в единицу времени. Даёт ровно столько,сколько может вместить буффер.
 Поэтому про стримы говорят, что это не совсем данные, а скорее [ко-данные](https://en.wikipedia.org/wiki/Stream_(computing))
  Отличную метафору streams в Node.js привёл вот этот парень с потрясающим акцентом:  

[![Net Ninja tutorial thumbnail](http://img.youtube.com/vi/GlybFFMXXmQ/0.jpg)](https://youtu.be/GlybFFMXXmQ "Net Ninja tutorial thumbnail" ) 

Да и в целом рекомендую его туториалы, помогают разобраться в некоторых нюансах.

### Как я учил

Сначала, я сделал следующее:
```
npm install -g stream-adventure
```
Это команда глобально устанавливает вот этот [воркшоп](https://github.com/workshopper/stream-adventure) от nodeschool.io.
Пару часов назад завершил его. Скажу, что сам воркшоп не идеален, но даёт общее представление о возможностях стриммов, так же заставляет задавать вопросы. Задания очень отличаеются по сложности. С некоторыми заданиями я заходил в тупик и смотрел ответы, затем сидел разбирал. В целом, воркшоп приучает не писать велосипеды, а использовать проверенные, написанные и выстраданные другими людьми модули.
Заполнить пробелы помог туториал от [Net Ninja](https://youtu.be/w-7RQ46RgxU), который я упоминал ранее. Он затрагивает так же и основы ноды, так что если вас интересуют стримы, можете смотреть видео только #13-16. 


Так же понять насколько стриммы круты и начать их обожать мне помогла эта статья [Samer Buna - Node.js Streams: Everything you need to know](https://medium.freecodecamp.org/node-js-streams-everything-you-need-to-know-c9141306be93)

И в тот момент, когда он сравнивает использование памяти при чтении файла большого объема ( ~400Мб ) асинхронно и с помощью стримма, я потёк.
В целом статья очень хорошо рассказывает про стриммы, у автора так же есть курс на Pluralsight.

Вот эти три источника позволили мне немного разобраться с тем как работать с потоками в Node.js.


### Что дальше

Дальше я хочу закрепить свои знания, построив небольшое веб-приложение, которое стримило бы данные  и  использовало какие-нибудь извращенные web API, например [Media stream](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream). 
В качестве отправной точки, буду использовать:
* [Stream Handbook](https://github.com/substack/stream-handbook)
* [MDN Docs](https://developer.mozilla.org/ru/docs/Web)

Вам так же рекомендую построить что-то самостоятельно.
Если вы хотите выучить какую-то технологию - постройте что-нибудь на её основе. 
